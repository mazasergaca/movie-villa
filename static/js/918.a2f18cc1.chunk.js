"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[918],{5501:function(n,r,e){e.d(r,{Be:function(){return w},Df:function(){return s},IR:function(){return m},Io:function(){return Z},M1:function(){return g},Pg:function(){return h},UR:function(){return f},_L:function(){return p},cN:function(){return x},k5:function(){return l},n6:function(){return d},pn:function(){return v},sI:function(){return y}});var t=e(5861),a=e(7757),i=e.n(a),o=e(4569),u=e.n(o),c="af82d7be8f57d00f4e04fac446f5a0d5";u().defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("/trending/all/day",{params:{api_key:c,page:r}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/popular",{params:{api_key:c,page:r}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/tv/popular",{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/top_rated",{params:{api_key:c,page:r}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),d=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/upcoming",{params:{api_key:c,page:r}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),m=function(){var n=(0,t.Z)(i().mark((function n(r,e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/search/movie",{params:{api_key:c,query:r,page:e}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/".concat(r),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),x=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/".concat(r,"/videos"),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),v=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/".concat(r,"/similar"),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),g=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/movie/".concat(r,"/credits"),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),Z=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/person/".concat(r),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),w=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/person/".concat(r,"/movie_credits"),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),y=function(){var n=(0,t.Z)(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u()("/person/".concat(r,"/images"),{params:{api_key:c}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()},2863:function(n,r,e){e.d(r,{Z:function(){return _}});e(2791);var t,a,i,o,u,c,s=e(7037),p=e(333),f=e.n(p),l=e(3504),d=e(6445),m=e(3736),h=e(168),x=e(7939),v=x.ZP.div(t||(t=(0,h.Z)(["\n  padding: 50px 0;\n\n  // css class mui item\n  & .css-r93niq-MuiButtonBase-root-MuiPaginationItem-root {\n    color: #fff;\n  }\n"]))),g=x.ZP.h1(a||(a=(0,h.Z)(["\n  margin-bottom: 30px;\n\n  text-align: center;\n"]))),Z=x.ZP.p(i||(i=(0,h.Z)(["\n  margin-bottom: 15px;\n  margin-left: 10px;\n"]))),w=x.ZP.ul(o||(o=(0,h.Z)(["\n  margin-bottom: 40px;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n"]))),y=x.ZP.li(u||(u=(0,h.Z)(["\n  /* margin: 5px; */\n\n  &:not(:nth-child(5n)) {\n    margin-right: 10px;\n  }\n\n  &:nth-last-child(n + 6) {\n    margin-bottom: 20px;\n  }\n\n  width: calc((100% - 40px) / 5);\n"]))),b=x.ZP.div(c||(c=(0,h.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),k=e(184),_=function(n){var r=n.title,e=n.movies,t=n.handleClick,a=n.page;return(0,k.jsx)(d.Z,{children:(0,k.jsxs)(v,{children:[r&&(0,k.jsx)(g,{children:r}),(0,k.jsxs)(Z,{children:["Page ",a," of ",null===e||void 0===e?void 0:e.data.total_pages]}),(0,k.jsx)(w,{children:null===e||void 0===e?void 0:e.data.results.map((function(n){return(0,k.jsx)(y,{children:(0,k.jsx)(l.rU,{to:{pathname:"/movies/all/".concat((r=n.original_title||n.original_name,f()(r,{lower:!0})),"-").concat(n.id)},children:(0,k.jsx)(m.Z,{src:n.poster_path,date:n.release_date||n.first_air_date,name:n.original_title||n.original_name})})},n.id);var r}))}),(0,k.jsx)(b,{children:(0,k.jsx)(s.Z,{count:null===e||void 0===e?void 0:e.data.total_pages,variant:"outlined",shape:"rounded",color:"primary",onChange:function(n){return t(Number(n.target.textContent))},page:a})})]})})}},3736:function(n,r,e){e.d(r,{Z:function(){return m}});e(2791);var t,a,i,o,u=e(168),c=e(7939),s=c.ZP.div(t||(t=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),p=c.ZP.div(a||(a=(0,u.Z)(["\n  width: 200px;\n  height: 280px;\n\n  overflow: hidden;\n\n  border-radius: 10px;\n  background-color: ",";\n"])),(function(n){return n.color})),f=c.ZP.span(i||(i=(0,u.Z)(["\n  margin-top: 18px;\n\n  font-weight: 700;\n\n  color: #9ca3af;\n"]))),l=c.ZP.span(o||(o=(0,u.Z)(["\n  margin-top: 8px;\n\n  font-weight: 700;\n  font-size: 18px;\n  text-align: center;\n\n  color: #fff;\n"]))),d=e(184),m=function(n){var r=n.src,e=n.date,t=n.name;return(0,d.jsxs)(s,{children:[(0,d.jsx)(p,{children:(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(r),width:"100%",alt:t})}),(0,d.jsx)(f,{children:e}),(0,d.jsx)(l,{children:t})]})}},8918:function(n,r,e){e.r(r),e.d(r,{default:function(){return B}});var t,a,i,o,u,c,s,p,f=e(1413),l=e(885),d=e(2791),m=e(6871),h=e(6960),x=e(1933),v=e(5501),g=e(6445),Z=e(2134),w=e(2863),y=e(168),b=e(7939),k=b.ZP.div(t||(t=(0,y.Z)(["\n  margin: 80px 0;\n\n  /* background-color: #333; */\n"]))),_=b.ZP.form(a||(a=(0,y.Z)(["\n  margin-bottom: 10px;\n"]))),j=b.ZP.label(i||(i=(0,y.Z)(["\n  position: relative;\n\n  font-size: 22px;\n\n  &::after {\n    position: absolute;\n    top: 100%;\n    content: '';\n    display: block;\n    height: 1px;\n    width: 110%;\n\n    background-color: #fff;\n  }\n"]))),P=b.ZP.input(o||(o=(0,y.Z)(["\n  margin-left: 5px;\n\n  border: none;\n  outline: none;\n  color: #fff;\n  background-color: transparent;\n"]))),C=b.ZP.button(u||(u=(0,y.Z)(["\n  border: none;\n  background-color: transparent;\n"]))),R=b.ZP.p(c||(c=(0,y.Z)(["\n  font-size: 18px;\n\n  text-align: center;\n"]))),q=(b.ZP.ul(s||(s=(0,y.Z)(["\n  margin: -5px;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n"]))),b.ZP.li(p||(p=(0,y.Z)(["\n  margin: 5px;\n\n  width: calc((100% - 50px) / 5);\n"]))),e(184)),B=function(){var n=(0,m.s0)(),r=(0,m.TH)(),e=new URLSearchParams(r.search).get("query"),t=new URLSearchParams(r.search).get("page"),a=(0,d.useState)(e||""),i=(0,l.Z)(a,2),o=i[0],u=i[1],c=(0,d.useState)(Number(t)||1),s=(0,l.Z)(c,2),p=s[0],y=s[1],b=function(n,r){var e=(0,x.useQuery)("movies by name",(function(){return(0,v.IR)(n,r)}),{onError:function(n){h.Am.error(n.message)},enabled:!1});return{moviesByName:e.data,refetch:e.refetch}}(o,p),B=b.moviesByName,S=b.refetch;(0,d.useEffect)((function(){e&&(u(e),S(),window.scrollTo(0,0))}),[e,S]),(0,d.useEffect)((function(){S(),window.scrollTo(0,0)}),[p,S]);return(0,q.jsx)(g.Z,{children:(0,q.jsxs)(k,{children:[(0,q.jsxs)(_,{onSubmit:function(e){e.preventDefault(),o?(y(1),n((0,f.Z)((0,f.Z)({},r),{},{search:"query=".concat(o,"&page=1")})),S()):h.Am.info("Please input text")},children:[(0,q.jsx)(j,{children:(0,q.jsx)(P,{placeholder:"Search movies",value:o,onChange:function(n){u(n.target.value)}})}),(0,q.jsx)(C,{type:"submit",children:(0,q.jsx)(Z.RB5,{color:"#fff",size:"24px"})})]}),(0,q.jsxs)(R,{children:[null===B||void 0===B?void 0:B.data.total_results," ",(null===B||void 0===B?void 0:B.data.total_results)>1?"movies":"movie"," found for your query"]}),B&&(0,q.jsx)(w.Z,{movies:B,page:p,handleClick:function(e){y(e),n((0,f.Z)((0,f.Z)({},r),{},{search:"query=".concat(o,"&page=").concat(e)}))}})]})})}}}]);
//# sourceMappingURL=918.a2f18cc1.chunk.js.map